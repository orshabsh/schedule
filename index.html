
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Расписание занятий</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f5f5f5; padding: 40px; }
    h1 { text-align: center; color: #333; }
    select { padding: 5px; font-size: 16px; margin: 5px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #e0e0e0; }
    .container { max-width: 1000px; margin: auto; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Расписание занятий</h1>
    <div>
      <label for="class-select">Класс:</label>
      <select id="class-select"></select>

      <label for="day-select">День недели:</label>
      <select id="day-select"></select>
    </div>
    <div id="schedule-container"></div>
  </div>

  <script>
    const days = {days};
    const lessonTimes = {lesson_times};

    let scheduleData = {};

    function loadSchedule() {
      fetch("https://raw.githubusercontent.com/orshabsh/schedule/main/schedule.json")
        .then(res => res.json())
        .then(data => {
          scheduleData = data.schedule;
          populateSelectors(data.classes);
        });
    }

    function populateSelectors(classes) {
      const clsSelect = document.getElementById("class-select");
      const daySelect = document.getElementById("day-select");

      clsSelect.innerHTML = "";
      daySelect.innerHTML = "";

      for (let c of classes) {
        const opt = document.createElement("option");
        opt.value = opt.text = c;
        clsSelect.appendChild(opt);
      }
      for (let d of days) {
        const opt = document.createElement("option");
        opt.value = opt.text = d;
        daySelect.appendChild(opt);
      }

      clsSelect.onchange = updateSchedule;
      daySelect.onchange = updateSchedule;
      updateSchedule();
    }

    function updateSchedule() {
      const cls = document.getElementById("class-select").value;
      const day = document.getElementById("day-select").value;
      if (!cls || !day) return;

      const lessons = scheduleData[cls][day];
      let html = "<table><tr><th>#</th><th>Время</th><th>Предмет</th><th>Кабинет</th></tr>";
      for (let i = 0; i < 8; i++) {
        const [subject, room] = lessons[i];
        html += `<tr>
          <td>${i}</td>
          <td>${lessonTimes[i]}</td>
          <td>${subject}</td>
          <td>${room}</td>
        </tr>`;
      }
      html += "</table>";
      document.getElementById("schedule-container").innerHTML = html;
    }

    window.onload = loadSchedule;
  </script>
</body>
</html>
